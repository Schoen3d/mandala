<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mandala Konfigurator (FBX)</title>
    <style>
        /* Grundlegende Stilregeln für das Layout */
        body {
            margin: 0;
            overflow: hidden; /* Verhindert Scrollbalken, da Three.js den ganzen Bildschirm füllt */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Mindesthöhe des Bodys auf volle Viewport-Höhe */
            background-color: #f0f0f0; /* Heller Hintergrund */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Schöne, lesbare Schriftart */
            color: #333;
        }

        /* Stil für das Kontrollpanel */
        .controls {
            position: absolute; /* Absolut positioniert, damit es über dem Canvas liegt */
            top: 20px; /* Abstand vom oberen Rand */
            left: 20px; /* Abstand vom linken Rand */
            background-color: rgba(255, 255, 255, 0.9); /* Halbtransparenter weißer Hintergrund */
            padding: 20px;
            border-radius: 10px; /* Abgerundete Ecken */
            box-shadow: 0 4px 15px rgba(0,0,0,0.15); /* Dezenter Schatten */
            z-index: 10; /* Stellt sicher, dass es über dem Canvas ist */
            width: 280px; /* Feste Breite für das Panel */
            max-height: calc(100vh - 40px); /* Maximale Höhe, um bei kleinen Bildschirmen zu passen */
            overflow-y: auto; /* Scrollbar, wenn Inhalt zu lang ist */
        }

        .controls h3 {
            margin-top: 0;
            color: #0056b3;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .controls label {
            display: block; /* Jedes Label in einer neuen Zeile */
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 0.95em;
        }

        /* Stil für die Farbauswahloptionen */
        .color-selection {
            margin-bottom: 20px;
        }

        .color-options-container {
            display: flex; /* Farben nebeneinander */
            flex-wrap: wrap; /* Umbruch auf nächste Zeile, wenn Platz nicht reicht */
            gap: 8px; /* Abstand zwischen den Farboptionen */
            margin-bottom: 15px;
        }

        .color-option {
            width: 35px; /* Größe der Farbkreise */
            height: 35px;
            border: 2px solid #ddd; /* Standardrand */
            cursor: pointer; /* Zeigt an, dass es klickbar ist */
            border-radius: 50%; /* Macht es zu einem Kreis */
            box-sizing: border-box; /* Border wird innen berechnet */
            transition: all 0.2s ease-in-out; /* Sanfte Übergänge beim Hover/Selektion */
        }

        .color-option:hover {
            border-color: #999;
            transform: scale(1.05); /* Leichter Vergrößerungseffekt beim Hover */
        }

        .color-option.selected {
            border: 3px solid #007bff; /* Stärkerer Rand und blaue Hervorhebung bei Auswahl */
            box-shadow: 0 0 0 4px rgba(0, 123, 255, 0.3); /* Zusätzlicher blauer Schatten */
            transform: scale(1.1); /* Leichte Vergrößerung bei Auswahl */
        }

        /* Stil für die Muster-Auswahlbuttons */
        .pattern-selection {
            margin-bottom: 25px;
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px; /* Abstand zwischen den Buttons */
        }

        .button-group button {
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            background-color: #e9ecef; /* Heller Hintergrund für unselektierte Buttons */
            color: #333;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .button-group button:hover {
            background-color: #d1d6db;
        }

        .button-group button.selected {
            background-color: #007bff; /* Blauer Hintergrund für ausgewählten Button */
            color: white;
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
            transform: translateY(-2px); /* Leichter Hoch-Effekt bei Auswahl */
        }

        /* Responsive Anpassungen (optional, aber gut) */
        @media (max-width: 768px) {
            .controls {
                width: calc(100% - 40px); /* Nimmt fast die gesamte Breite auf kleinen Bildschirmen ein */
                top: 10px;
                left: 10px;
                right: 10px;
                padding: 15px;
            }
            .color-option {
                width: 30px;
                height: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="controls">
        <h3>Mandala Konfigurator</h3>

        <div class="pattern-selection">
            <label>Muster wählen:</label>
            <div class="button-group" id="patternButtons">
                </div>
        </div>

        <div class="color-selection">
            <label>Farbe Vorderseite:</label>
            <div id="colorOptionsFront" class="color-options-container">
                </div>

            <label>Farbe Rückseite:</label>
            <div id="colorOptionsBack" class="color-options-container">
                </div>
        </div>
    </div>

    <script type="module" src="https://unpkg.com/three@0.164.1/build/three.module.js"></script>
    <script type="module" src="https://unpkg.com/three@0.164.1/examples/jsm/loaders/FBXLoader.js"></script>
    <script type="module" src="https://unpkg.com/three@0.164.1/examples/jsm/controls/OrbitControls.js"></script>

    <script type="module" src="main.js"></script>
</body>
</html>